{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getLogs}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SystemLogs=()=>{const[logs,setLogs]=useState([]);const[filteredLogs,setFilteredLogs]=useState([]);const[filter,setFilter]=useState('ALL');const[loading,setLoading]=useState(true);useEffect(()=>{fetchLogs();const interval=setInterval(fetchLogs,5000);// Refresh every 5 seconds\nreturn()=>clearInterval(interval);},[]);useEffect(()=>{if(filter==='ALL'){setFilteredLogs(logs);}else{setFilteredLogs(logs.filter(log=>log.level===filter));}},[logs,filter]);const fetchLogs=async()=>{try{const data=await getLogs(100);setLogs(data.logs||[]);setLoading(false);}catch(error){console.error('Error fetching logs:',error);setLoading(false);}};const getLogClass=level=>{switch(level){case'ERROR':return'error';case'WARNING':return'warning';default:return'';}};const getLogIcon=level=>{switch(level){case'ERROR':return'‚ùå';case'WARNING':return'‚ö†Ô∏è';case'INFO':return'‚ÑπÔ∏è';default:return'üìù';}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCB System Logs\"}),/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading system logs\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",\"data-testid\":\"system-logs-card\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCB System Logs\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#888',fontSize:'13px'},children:\"Filter:\"}),/*#__PURE__*/_jsxs(\"select\",{value:filter,onChange:e=>setFilter(e.target.value),style:{background:'rgba(0,0,0,0.3)',color:'white',border:'1px solid rgba(255,255,255,0.2)',padding:'8px 15px',borderRadius:'5px',cursor:'pointer'},\"data-testid\":\"log-filter-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"ALL\",children:\"All Logs\"}),/*#__PURE__*/_jsx(\"option\",{value:\"INFO\",children:\"Info\"}),/*#__PURE__*/_jsx(\"option\",{value:\"WARNING\",children:\"Warnings\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ERROR\",children:\"Errors\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"badge badge-info\",children:[filteredLogs.length,\" entries\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"log-container\",\"data-testid\":\"log-entries-container\",children:filteredLogs.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"log-entry\",style:{textAlign:'center',color:'#888'},children:\"No logs available for selected filter\"}):filteredLogs.map((log,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"log-entry \".concat(getLogClass(log.level)),children:[/*#__PURE__*/_jsxs(\"span\",{style:{color:'#888',fontSize:'11px'},children:[\"[\",new Date(log.timestamp).toLocaleTimeString(),\"]\"]}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'10px'},children:getLogIcon(log.level)}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#00ff88',marginLeft:'5px',fontWeight:'600'},children:[\"[\",log.level,\"]\"]}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'10px',color:'#fff'},children:log.message}),log.details&&/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:'20px',marginTop:'5px',fontSize:'11px',color:'#aaa'},children:typeof log.details==='object'?JSON.stringify(log.details,null,2):log.details})]},index))}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'15px',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:fetchLogs,style:{fontSize:'12px',padding:'8px 15px'},\"data-testid\":\"refresh-logs-btn\",children:\"\\uD83D\\uDD04 Refresh Logs\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'11px',color:'#888'},children:\"Auto-refreshing every 5 seconds\"})]})]});};export default SystemLogs;","map":{"version":3,"names":["React","useState","useEffect","getLogs","jsx","_jsx","jsxs","_jsxs","SystemLogs","logs","setLogs","filteredLogs","setFilteredLogs","filter","setFilter","loading","setLoading","fetchLogs","interval","setInterval","clearInterval","log","level","data","error","console","getLogClass","getLogIcon","className","children","style","display","justifyContent","alignItems","marginBottom","gap","color","fontSize","value","onChange","e","target","background","border","padding","borderRadius","cursor","length","textAlign","map","index","concat","Date","timestamp","toLocaleTimeString","marginLeft","fontWeight","message","details","marginTop","JSON","stringify","onClick"],"sources":["/app/frontend/src/components/SystemLogs.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getLogs } from '../services/api';\n\nconst SystemLogs = () => {\n  const [logs, setLogs] = useState([]);\n  const [filteredLogs, setFilteredLogs] = useState([]);\n  const [filter, setFilter] = useState('ALL');\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchLogs();\n    const interval = setInterval(fetchLogs, 5000); // Refresh every 5 seconds\n    return () => clearInterval(interval);\n  }, []);\n\n  useEffect(() => {\n    if (filter === 'ALL') {\n      setFilteredLogs(logs);\n    } else {\n      setFilteredLogs(logs.filter(log => log.level === filter));\n    }\n  }, [logs, filter]);\n\n  const fetchLogs = async () => {\n    try {\n      const data = await getLogs(100);\n      setLogs(data.logs || []);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching logs:', error);\n      setLoading(false);\n    }\n  };\n\n  const getLogClass = (level) => {\n    switch (level) {\n      case 'ERROR': return 'error';\n      case 'WARNING': return 'warning';\n      default: return '';\n    }\n  };\n\n  const getLogIcon = (level) => {\n    switch (level) {\n      case 'ERROR': return '‚ùå';\n      case 'WARNING': return '‚ö†Ô∏è';\n      case 'INFO': return '‚ÑπÔ∏è';\n      default: return 'üìù';\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"card\">\n        <h3>üìã System Logs</h3>\n        <div className=\"loading\">Loading system logs</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"card\" data-testid=\"system-logs-card\">\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '15px' }}>\n        <h3>üìã System Logs</h3>\n        <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\n          <span style={{ color: '#888', fontSize: '13px' }}>Filter:</span>\n          <select \n            value={filter} \n            onChange={(e) => setFilter(e.target.value)}\n            style={{ \n              background: 'rgba(0,0,0,0.3)', \n              color: 'white', \n              border: '1px solid rgba(255,255,255,0.2)',\n              padding: '8px 15px',\n              borderRadius: '5px',\n              cursor: 'pointer'\n            }}\n            data-testid=\"log-filter-select\"\n          >\n            <option value=\"ALL\">All Logs</option>\n            <option value=\"INFO\">Info</option>\n            <option value=\"WARNING\">Warnings</option>\n            <option value=\"ERROR\">Errors</option>\n          </select>\n          <span className=\"badge badge-info\">{filteredLogs.length} entries</span>\n        </div>\n      </div>\n      \n      <div className=\"log-container\" data-testid=\"log-entries-container\">\n        {filteredLogs.length === 0 ? (\n          <div className=\"log-entry\" style={{ textAlign: 'center', color: '#888' }}>\n            No logs available for selected filter\n          </div>\n        ) : (\n          filteredLogs.map((log, index) => (\n            <div key={index} className={`log-entry ${getLogClass(log.level)}`}>\n              <span style={{ color: '#888', fontSize: '11px' }}>\n                [{new Date(log.timestamp).toLocaleTimeString()}]\n              </span>\n              <span style={{ marginLeft: '10px' }}>\n                {getLogIcon(log.level)}\n              </span>\n              <span style={{ color: '#00ff88', marginLeft: '5px', fontWeight: '600' }}>\n                [{log.level}]\n              </span>\n              <span style={{ marginLeft: '10px', color: '#fff' }}>\n                {log.message}\n              </span>\n              {log.details && (\n                <div style={{ marginLeft: '20px', marginTop: '5px', fontSize: '11px', color: '#aaa' }}>\n                  {typeof log.details === 'object' ? JSON.stringify(log.details, null, 2) : log.details}\n                </div>\n              )}\n            </div>\n          ))\n        )}\n      </div>\n\n      <div style={{ marginTop: '15px', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        <button \n          className=\"btn btn-primary\" \n          onClick={fetchLogs}\n          style={{ fontSize: '12px', padding: '8px 15px' }}\n          data-testid=\"refresh-logs-btn\"\n        >\n          üîÑ Refresh Logs\n        </button>\n        <span style={{ fontSize: '11px', color: '#888' }}>\n          Auto-refreshing every 5 seconds\n        </span>\n      </div>\n    </div>\n  );\n};\n\nexport default SystemLogs;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}